<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Vcr - Documentation</title>
    <!-- <meta name="description" content="TODO populate this based on the module's description"> -->
    <meta name="viewport" content="width=device-width" />
    <base href="/roc-vcr/0.1.0/" />
    <script type="text/javascript" src="search.js" defer></script>
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="/favicon.svg" />
    <!-- Safari ignores rel="icon" and only respects rel="mask-icon". It will render the SVG with
    fill="#000" unless this `color` attribute here is hardcoded (not a CSS `var()`) to override it.
  -->
    <link rel="mask-icon" href="/favicon.svg" color="#7d59dd" />
    <link rel="prefetch" href="Vcr"/>
</head>

<body>
    <nav id="sidebar-nav">
        <div class="pkg-and-logo">
            <a class="logo" href="/" aria-labelledby="logo-link">
                <svg viewBox="0 -6 51 58" fill="none" xmlns="http://www.w3.org/2000/svg" aria-labelledby="logo-link"
                    role="img">
                    <title id="logo-link">Return to Roc packages</title>
                    <polygon role="presentation"
                        points="0,0 23.8834,3.21052 37.2438,19.0101 45.9665,16.6324 50.5,22 45,22 44.0315,26.3689 26.4673,39.3424 27.4527,45.2132 17.655,53 23.6751,22.7086" />
                </svg>
            </a>
            <h1 class="pkg-full-name" ><a href="/roc-vcr/0.1.0/" >Documentation</a></h1>
            <button class="menu-toggle" aria-label="Toggle sidebar">
                <svg viewBox="0 0 72 72" id="emoji" xmlns="http://www.w3.org/2000/svg" fill="currentcolor">
                    <g id="SVGRepo_iconCarrier">
                        <g id="color"></g>
                        <g id="hair"></g>
                        <g id="skin"></g>
                        <g id="skin-shadow"></g>
                        <g id="line">
                            <line x1="16" x2="56" y1="26" y2="26" fill="none" stroke="currentColor"
                                stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2">
                            </line>
                            <line x1="16" x2="56" y1="36" y2="36" fill="none" stroke="currentColor"
                                stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2">
                            </line>
                            <line x1="16" x2="56" y1="46" y2="46" fill="none" stroke="currentColor"
                                stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2">
                            </line>
                        </g>
                    </g>
                </svg>
            </button>
        </div>
        <div class="module-links-container">
            <div class="module-links">
                <div class="sidebar-entry" ><a class="sidebar-module-link" href="Vcr" data-module-name="Vcr" ><span >Vcr</span><button class="entry-toggle" >â–¶</button></a><div class="sidebar-sub-entries" ><a href="Vcr#Mode" >Mode</a><a href="Vcr#Timeout" >Timeout</a><a href="Vcr#Request" >Request</a><a href="Vcr#Response" >Response</a><a href="Vcr#Interaction" >Interaction</a><a href="Vcr#Cassette" >Cassette</a><a href="Vcr#StoredRequest" >StoredRequest</a><a href="Vcr#StoredInteraction" >StoredInteraction</a><a href="Vcr#StoredCassette" >StoredCassette</a><a href="Vcr#Config" >Config</a><a href="Vcr#init!" >init!</a></div></div>
            </div>
        </div>
    </nav>
    <main>
        <form id="module-search-form">
            <button class="menu-toggle" aria-label="Toggle sidebar">
                <svg viewBox="0 0 72 72" id="emoji" xmlns="http://www.w3.org/2000/svg" fill="currentcolor">
                    <g id="SVGRepo_iconCarrier">
                        <g id="color"></g>
                        <g id="hair"></g>
                        <g id="skin"></g>
                        <g id="skin-shadow"></g>
                        <g id="line">
                            <line x1="16" x2="56" y1="26" y2="26" fill="none" stroke="currentColor"
                                stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2">
                            </line>
                            <line x1="16" x2="56" y1="36" y2="36" fill="none" stroke="currentColor"
                                stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2">
                            </line>
                            <line x1="16" x2="56" y1="46" y2="46" fill="none" stroke="currentColor"
                                stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2">
                            </line>
                        </g>
                    </g>
                </svg>
            </button>
            <input id="module-search" aria-labelledby="search-label" type="text"
                placeholder="Search Documentation" role="combobox" aria-autocomplete="list"
                aria-expanded="false" aria-controls="search-type-ahead" />
            <label for="module-search" id="search-label">(press
                <span id="search-shortcut-key" aria-hidden="true">s</span>)</label>
            <!-- Magnifying Glass icon -->
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="search-icon"
                xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 512 512"
                xml:space="preserve">
                <g>
                    <path d="M449.803,62.197C408.443,20.807,353.85-0.037,299.646-0.006C245.428-0.037,190.85,20.807,149.49,62.197
		C108.1,103.557,87.24,158.15,87.303,212.338c-0.047,37.859,10.359,75.766,30.547,109.359L15.021,424.525
		c-20.016,20.016-20.016,52.453,0,72.469c20,20.016,52.453,20.016,72.453,0L190.318,394.15
		c33.578,20.203,71.5,30.594,109.328,30.547c54.203,0.047,108.797-20.797,150.156-62.188
		c41.375-41.359,62.234-95.938,62.188-150.172C512.053,158.15,491.178,103.557,449.803,62.197z M391.818,304.541
		c-25.547,25.531-58.672,38.125-92.172,38.188c-33.5-0.063-66.609-12.656-92.188-38.188c-25.531-25.578-38.125-58.688-38.188-92.203
		c0.063-33.484,12.656-66.609,38.188-92.172c25.578-25.531,58.688-38.125,92.188-38.188c33.5,0.063,66.625,12.656,92.188,38.188
		c25.531,25.563,38.125,58.688,38.188,92.172C429.959,245.854,417.365,278.963,391.818,304.541z"></path>
                </g>
            </svg>
            <ul id="search-type-ahead" role="listbox" aria-label="Search Results" class="hidden">
                <li role="option" ><a href="Vcr#Mode" class="type-ahead-link" ><span class="type-ahead-module-name" >Vcr</span><span class="type-ahead-module-dot" >.</span><span class="type-ahead-def-name" >Mode</span><span class="type-ahead-signature" > : 
    [
        Replay,
        Once,
        Replace
    ]</span></a></li><li role="option" ><a href="Vcr#Timeout" class="type-ahead-link" ><span class="type-ahead-module-name" >Vcr</span><span class="type-ahead-module-dot" >.</span><span class="type-ahead-def-name" >Timeout</span></a></li><li role="option" ><a href="Vcr#Request" class="type-ahead-link" ><span class="type-ahead-module-name" >Vcr</span><span class="type-ahead-module-dot" >.</span><span class="type-ahead-def-name" >Request</span></a></li><li role="option" ><a href="Vcr#Response" class="type-ahead-link" ><span class="type-ahead-module-name" >Vcr</span><span class="type-ahead-module-dot" >.</span><span class="type-ahead-def-name" >Response</span></a></li><li role="option" ><a href="Vcr#Interaction" class="type-ahead-link" ><span class="type-ahead-module-name" >Vcr</span><span class="type-ahead-module-dot" >.</span><span class="type-ahead-def-name" >Interaction</span></a></li><li role="option" ><a href="Vcr#Cassette" class="type-ahead-link" ><span class="type-ahead-module-name" >Vcr</span><span class="type-ahead-module-dot" >.</span><span class="type-ahead-def-name" >Cassette</span></a></li><li role="option" ><a href="Vcr#StoredRequest" class="type-ahead-link" ><span class="type-ahead-module-name" >Vcr</span><span class="type-ahead-module-dot" >.</span><span class="type-ahead-def-name" >StoredRequest</span></a></li><li role="option" ><a href="Vcr#StoredInteraction" class="type-ahead-link" ><span class="type-ahead-module-name" >Vcr</span><span class="type-ahead-module-dot" >.</span><span class="type-ahead-def-name" >StoredInteraction</span></a></li><li role="option" ><a href="Vcr#StoredCassette" class="type-ahead-link" ><span class="type-ahead-module-name" >Vcr</span><span class="type-ahead-module-dot" >.</span><span class="type-ahead-def-name" >StoredCassette</span></a></li><li role="option" ><a href="Vcr#Config" class="type-ahead-link" ><span class="type-ahead-module-name" >Vcr</span><span class="type-ahead-module-dot" >.</span><span class="type-ahead-def-name" >Config</span></a></li><li role="option" ><a href="Vcr#init!" class="type-ahead-link" ><span class="type-ahead-module-name" >Vcr</span><span class="type-ahead-module-dot" >.</span><span class="type-ahead-def-name" >init!</span><span class="type-ahead-signature" > : Config err file_err, Str => Request => Result Response err
    where file_err implements Inspect</span></a></li>
            </ul>
        </form>
        <h2 class="module-name" ><a href="/" >Vcr</a></h2><p>Record and replay HTTP interactions in your tests for speed and reliability.</p>
<p>VCR (Video Cassette Recorder) is a testing pattern where HTTP requests and responses are recorded to disk the first time they're made, then replayed in subsequent test runs. This makes your tests fast, deterministic, and independent of external services.</p>
<p>Inspired by Ruby's excellent <a href="https://github.com/vcr/vcr">VCR gem</a>. <code>roc-vcr</code> brings a similar approach to Roc.</p>
<section><h3 id="Mode" class="entry-name" ><a href="Vcr#Mode" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor"><!--!
	Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License -
	https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
	Copyright 2023 Fonticons, Inc. -->
	<path
		d="M562.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L405.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C189.5 251.2 196 330 246 380c56.5 56.5 148 56.5 204.5 0L562.8 267.7zM43.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C57 372 57 321 88.5 289.5L200.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C416.5 260.8 410 182 360 132c-56.5-56.5-148-56.5-204.5 0L43.2 244.3z" />
</svg></a><code><span class="upperident">Mode</span><span class="kw"> :</span><span class="delimiter"> 
    [</span><span class="upperident">
        Replay</span><span class="delimiter">,</span><span class="upperident">
        Once</span><span class="delimiter">,</span><span class="upperident">
        Replace</span><span class="delimiter">
    ]</span></code></h3><p>Recording mode that determines VCR behavior.</p>
<ul>
<li><code>Once</code>: Record if cassette doesn't exist, replay otherwise (does not record new interactions in an existing cassette)</li>
<li><code>Replay</code>: Only replay from cassette, crash if cassette or interaction not found</li>
<li><code>Replace</code>: Delete cassette and record fresh interactions</li>
</ul>
</section><section><h3 id="Timeout" class="entry-name" ><a href="Vcr#Timeout" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor"><!--!
	Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License -
	https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
	Copyright 2023 Fonticons, Inc. -->
	<path
		d="M562.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L405.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C189.5 251.2 196 330 246 380c56.5 56.5 148 56.5 204.5 0L562.8 267.7zM43.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C57 372 57 321 88.5 289.5L200.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C416.5 260.8 410 182 360 132c-56.5-56.5-148-56.5-204.5 0L43.2 244.3z" />
</svg></a><code><span class="upperident">Timeout</span></code></h3><p>Request timeout configuration. Matches <code>basic-cli</code>.</p>
</section><section><h3 id="Request" class="entry-name" ><a href="Vcr#Request" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor"><!--!
	Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License -
	https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
	Copyright 2023 Fonticons, Inc. -->
	<path
		d="M562.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L405.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C189.5 251.2 196 330 246 380c56.5 56.5 148 56.5 204.5 0L562.8 267.7zM43.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C57 372 57 321 88.5 289.5L200.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C416.5 260.8 410 182 360 132c-56.5-56.5-148-56.5-204.5 0L43.2 244.3z" />
</svg></a><code><span class="upperident">Request</span></code></h3><p>HTTP request. Matches <code>basic-cli</code> exactly so you can pass <code>Http.send!</code> directly.</p>
</section><section><h3 id="Response" class="entry-name" ><a href="Vcr#Response" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor"><!--!
	Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License -
	https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
	Copyright 2023 Fonticons, Inc. -->
	<path
		d="M562.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L405.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C189.5 251.2 196 330 246 380c56.5 56.5 148 56.5 204.5 0L562.8 267.7zM43.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C57 372 57 321 88.5 289.5L200.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C416.5 260.8 410 182 360 132c-56.5-56.5-148-56.5-204.5 0L43.2 244.3z" />
</svg></a><code><span class="upperident">Response</span></code></h3><p>HTTP response. Compatible with <code>basic-cli</code>.</p>
</section><section><h3 id="Interaction" class="entry-name" ><a href="Vcr#Interaction" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor"><!--!
	Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License -
	https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
	Copyright 2023 Fonticons, Inc. -->
	<path
		d="M562.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L405.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C189.5 251.2 196 330 246 380c56.5 56.5 148 56.5 204.5 0L562.8 267.7zM43.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C57 372 57 321 88.5 289.5L200.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C416.5 260.8 410 182 360 132c-56.5-56.5-148-56.5-204.5 0L43.2 244.3z" />
</svg></a><code><span class="upperident">Interaction</span></code></h3><p>A single HTTP interaction: one request paired with its response.</p>
</section><section><h3 id="Cassette" class="entry-name" ><a href="Vcr#Cassette" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor"><!--!
	Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License -
	https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
	Copyright 2023 Fonticons, Inc. -->
	<path
		d="M562.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L405.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C189.5 251.2 196 330 246 380c56.5 56.5 148 56.5 204.5 0L562.8 267.7zM43.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C57 372 57 321 88.5 289.5L200.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C416.5 260.8 410 182 360 132c-56.5-56.5-148-56.5-204.5 0L43.2 244.3z" />
</svg></a><code><span class="upperident">Cassette</span></code></h3><p>A cassette containing recorded HTTP interactions. Named after VHS cassette tapes.</p>
</section><section><h3 id="StoredRequest" class="entry-name" ><a href="Vcr#StoredRequest" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor"><!--!
	Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License -
	https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
	Copyright 2023 Fonticons, Inc. -->
	<path
		d="M562.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L405.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C189.5 251.2 196 330 246 380c56.5 56.5 148 56.5 204.5 0L562.8 267.7zM43.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C57 372 57 321 88.5 289.5L200.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C416.5 260.8 410 182 360 132c-56.5-56.5-148-56.5-204.5 0L43.2 244.3z" />
</svg></a><code><span class="upperident">StoredRequest</span></code></h3><p>Request as stored in cassette JSON. Method is a string, timeout is omitted.
Useful if you need to decode cassette files directly.</p>
</section><section><h3 id="StoredInteraction" class="entry-name" ><a href="Vcr#StoredInteraction" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor"><!--!
	Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License -
	https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
	Copyright 2023 Fonticons, Inc. -->
	<path
		d="M562.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L405.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C189.5 251.2 196 330 246 380c56.5 56.5 148 56.5 204.5 0L562.8 267.7zM43.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C57 372 57 321 88.5 289.5L200.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C416.5 260.8 410 182 360 132c-56.5-56.5-148-56.5-204.5 0L43.2 244.3z" />
</svg></a><code><span class="upperident">StoredInteraction</span></code></h3><p>Interaction as stored in cassette JSON.</p>
</section><section><h3 id="StoredCassette" class="entry-name" ><a href="Vcr#StoredCassette" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor"><!--!
	Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License -
	https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
	Copyright 2023 Fonticons, Inc. -->
	<path
		d="M562.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L405.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C189.5 251.2 196 330 246 380c56.5 56.5 148 56.5 204.5 0L562.8 267.7zM43.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C57 372 57 321 88.5 289.5L200.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C416.5 260.8 410 182 360 132c-56.5-56.5-148-56.5-204.5 0L43.2 244.3z" />
</svg></a><code><span class="upperident">StoredCassette</span></code></h3><p>Cassette as stored in JSON files. Use with <code>roc-json</code> to decode cassettes directly.</p>
</section><section><h3 id="Config" class="entry-name" ><a href="Vcr#Config" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor"><!--!
	Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License -
	https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
	Copyright 2023 Fonticons, Inc. -->
	<path
		d="M562.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L405.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C189.5 251.2 196 330 246 380c56.5 56.5 148 56.5 204.5 0L562.8 267.7zM43.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C57 372 57 321 88.5 289.5L200.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C416.5 260.8 410 182 360 132c-56.5-56.5-148-56.5-204.5 0L43.2 244.3z" />
</svg></a><code><span class="upperident">Config</span><span class="lowerident"> err</span><span class="lowerident"> file</span><span class="lowerident">_</span><span class="lowerident">err</span></code></h3><p>VCR configuration.</p>
<ul>
<li><code>mode</code>: Recording mode (<code>Once</code>, <code>Replay</code>, <code>Replace</code>)</li>
<li><code>cassette_dir</code>: Directory for cassette files</li>
<li><code>remove_headers</code>: Headers to strip from recordings</li>
<li><code>replace_sensitive_data</code>: Find/replace sensitive data</li>
<li><code>before_record</code>: Transform before recording</li>
<li><code>before_replay</code>: Transform before replaying</li>
<li><code>skip_interactions</code>: Number of interactions to skip when matching (useful when making duplicate requests and wanting to match a later one)</li>
<li><code>http_send!</code>: Pass <code>Http.send!</code> or equivalent from your platform</li>
<li><code>file_read!</code>: Pass <code>File.read_bytes!</code> or equivalent from your platform</li>
<li><code>file_write!</code>: Pass <code>File.write_bytes!</code> or equivalent from your platform</li>
<li><code>file_delete!</code>: Pass <code>File.delete!</code> or equivalent from your platform</li>
</ul>
</section><section><h3 id="init!" class="entry-name" ><a href="Vcr#init!" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor"><!--!
	Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License -
	https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
	Copyright 2023 Fonticons, Inc. -->
	<path
		d="M562.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L405.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C189.5 251.2 196 330 246 380c56.5 56.5 148 56.5 204.5 0L562.8 267.7zM43.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C57 372 57 321 88.5 289.5L200.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C416.5 260.8 410 182 360 132c-56.5-56.5-148-56.5-204.5 0L43.2 244.3z" />
</svg></a><code><span class="lowerident">init</span><span class="op">!</span><span class="kw"> :</span><span class="upperident"> Config</span><span class="lowerident"> err</span><span class="lowerident"> file</span><span class="lowerident">_</span><span class="lowerident">err</span><span class="delimiter">,</span><span class="upperident"> Str</span><span class="kw"> =</span><span class="op">&gt;</span><span class="upperident"> Request</span><span class="kw"> =</span><span class="op">&gt;</span><span class="upperident"> Result</span><span class="upperident"> Response</span><span class="lowerident"> err</span><span class="lowerident">
    where</span><span class="lowerident"> file</span><span class="lowerident">_</span><span class="lowerident">err</span><span class="lowerident"> implements</span><span class="upperident"> Inspect</span></code></h3><p>Create a VCR client for a specific cassette. Returns a function that works like <code>Http.send!</code>.</p>
<pre><samp><span class="lowerident">client</span><span class="op">!</span><span class="kw"> =</span><span class="upperident"> Vcr</span><span class="delimiter">.</span><span class="lowerident">init</span><span class="op">!</span><span class="delimiter">(</span><span class="lowerident">config</span><span class="delimiter">,</span><span class="literal"> "my_api_test"</span><span class="delimiter">)</span><span class="lowerident">
response</span><span class="kw"> =</span><span class="lowerident"> client</span><span class="op">!</span><span class="delimiter">(</span><span class="lowerident">request</span><span class="delimiter">)</span><span class="kw">?</span><span class="comment">  # Records or replays based on mode</span></samp></pre></code></pre>
<p>The returned client handles recording and replay automatically based on the config mode.
Crashes with a descriptive message on VCR errors (decode failures, missing interactions in Replay mode, etc.).</p>
</section>
        <footer>
            <p>Made by people who like to make nice things.</p>
        </footer>
    </main>
</body>

</html>
